@page "/add-transaction"
@inject TransactionsApi TransactionsApi
@inject NavigationManager NavigationManager

<div class="page-stack decision-flow">
  <section class="page-head">
    <div class="page-head-copy">
      <p class="page-kicker">Add transaction</p>
      <h2 class="page-title">Capture one transaction</h2>
      <p class="muted">Simple flow. Clear data. Better AI insights.</p>
    </div>

    <a class="btn-secondary" href="/transactions">Back to list</a>
  </section>

  <HeroCard AdditionalClass="card-rise">
    <TransactionForm OnSubmit="Create" />
  </HeroCard>
</div>

@code {
  private async Task Create(CreateTransactionRequest request)
  {
    TransactionDto? result = await TransactionsApi.CreateAsync(request);
    if (result is not null)
    {
      NavigationManager.NavigateTo("/transactions");
    }
  }
}
